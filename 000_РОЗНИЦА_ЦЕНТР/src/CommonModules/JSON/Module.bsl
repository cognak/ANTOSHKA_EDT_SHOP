//	LNK 24.04.2019 10:35:37
Процедура ЗаписатьСвойство(Имя, Знач Значение, ЗаписьJSON, Точность = Неопределено)	Экспорт

	Перем ЗначениеПравое;

	Если Точность = Неопределено Тогда

		ЗначениеЛевое = Значение;

	ИначеЕсли НЕ ТипЗнч(Значение) = Тип("Число") Тогда

		ЗначениеЛевое = Значение;

	Иначе

		ЗначениеЛевое  = Цел(Значение);
		ЗначениеПравое = Окр(Макс(Значение, -Значение) - Макс(ЗначениеЛевое, -ЗначениеЛевое), Точность);	//	возьмём по модулю.

		Если ЗначениеПравое = 0 Тогда
			
			ЗначениеПравое = ОбщегоНазначенияКлиентСервер.REPEAT("0", Точность);

		Иначе

			ЗначениеПравое = Формат(ЗначениеПравое * Pow(10, Точность), "ЧДЦ=; ЧВН=; ЧГ=; ЧЦ=" + Точность);

		КонецЕсли;

	КонецЕсли;

	ЗаписьJSON.ЗаписатьИмяСвойства(Имя);
	ЗаписьJSON.ЗаписатьЗначение(ЗначениеЛевое);

	Если НЕ (ЗначениеПравое = Неопределено ИЛИ ПустаяСтрока(ЗначениеПравое)) Тогда

		ЗаписьJSON.ЗаписатьБезОбработки("." + ЗначениеПравое);

	КонецЕсли;

КонецПроцедуры

Функция БулевоКакЧисло(Значение)	Экспорт

	Возврат ?(Значение = Истина, 1, 0);

КонецФункции

Функция ЧислоКакБулево(Значение)	Экспорт

	Возврат ?(Значение <= 0, Ложь, Истина);

КонецФункции


