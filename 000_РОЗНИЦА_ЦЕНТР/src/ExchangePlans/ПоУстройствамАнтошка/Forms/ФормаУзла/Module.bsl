#Область ОбработчикиОсновныхСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)


КонецПроцедуры

&НаСервере
Процедура ПриЧтенииНаСервере(ТекущийОбъект)

	УстановитьОформлениеЭлементов();

КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)


КонецПроцедуры

&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)

	Если ОчиститьПодготовленныеДанные Тогда

		ТекущийОбъект.ВремяПодготовки = '00010101';
		ТекущийОбъект.ПодготовленныеДанные = Новый ХранилищеЗначения(Неопределено);

	КонецЕсли;

КонецПроцедуры

&НаСервере
Процедура ПослеЗаписиНаСервере(ТекущийОбъект, ПараметрыЗаписи)

	УстановитьОформлениеЭлементов();

КонецПроцедуры

#КонецОбласти

&НаСервере
Процедура УстановитьОформлениеЭлементов()

	Если Объект.ЭтотУзел Тогда

		Элементы.ГруппаПодробностиПериферии.Видимость = Ложь;

	Иначе

		ИдентификаторУзла = Объект.Ссылка.УникальныйИдентификатор();
		Элементы.Магазин.ТолькоПросмотр = Истина;

	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура ОчиститьПодготовленныеДанные(Команда)

	ОчиститьПодготовленныеДанные = Истина;
	Модифицированность = Истина;

КонецПроцедуры
