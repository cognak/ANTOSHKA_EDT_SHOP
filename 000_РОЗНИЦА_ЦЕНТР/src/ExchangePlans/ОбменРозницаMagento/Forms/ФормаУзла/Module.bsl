#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
//	Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда

		Возврат;

	КонецЕсли;


КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)

	УстановитьОформлениеЭлементов();

КонецПроцедуры

&НаКлиенте
Процедура ПослеЗаписи(ПараметрыЗаписи)

	УстановитьОформлениеЭлементов();

КонецПроцедуры

#КонецОбласти

&НаКлиенте
Процедура УстановитьОформлениеЭлементов()

	РазрешеноРедактирование = Объект.Ссылка.Пустая() ИЛИ ТехническаяПоддержкаВызовСервера.ОтладочныйРежимРаботы();

	Если НЕ РазрешеноРедактирование Тогда

		ТолькоПросмотр = Истина;
		Элементы.Магазины.ТолькоПросмотр = Истина;
		Элементы.МагазиныВыгрузка.ТолькоПросмотр = Истина;

	Иначе

		Элементы.НомерОтправленного.ТолькоПросмотр = Ложь;
		Элементы.НомерПринятого.ТолькоПросмотр     = Ложь;

	КонецЕсли;

	Элементы.Активен.Доступность = НЕ Объект.ЭтотУзел И НЕ Объект.Ссылка.Пустая() И ТехническаяПоддержкаВызовСервера.ОтладочныйРежимРаботы();

КонецПроцедуры
