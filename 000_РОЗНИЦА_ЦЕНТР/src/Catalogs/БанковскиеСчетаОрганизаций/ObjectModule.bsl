#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)

	МассивНепроверяемыхРеквизитов = Новый Массив;

	МассивНепроверяемыхРеквизитов.Добавить("СчетПоУмолчанию");
	
	Если СчетПоУмолчанию Тогда

		Запрос = Новый Запрос;
		Запрос.Текст =
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
			|	БанковскиеСчетаОрганизаций.Ссылка
			|ИЗ
			|	Справочник.БанковскиеСчетаОрганизаций КАК БанковскиеСчетаОрганизаций
			|ГДЕ
			|	БанковскиеСчетаОрганизаций.Владелец = &Владелец
			|	И БанковскиеСчетаОрганизаций.СчетПоУмолчанию";
		
		Запрос.УстановитьПараметр("Владелец", Владелец);
	
		Если Не Запрос.Выполнить().Пустой() Тогда
	
			ТекстОшибки = НСтр("ru = 'Счет по умолчанию уже есть';uk = 'Рахунок за замовчуванням вже є'");
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(
				ТекстОшибки,
				ЭтотОбъект,
				"СчетПоУмолчанию",
				,
				Отказ
				);
	
		КонецЕсли;

	КонецЕсли;
	
	ОбщегоНазначения.УдалитьНепроверяемыеРеквизитыИзМассива(ПроверяемыеРеквизиты, МассивНепроверяемыхРеквизитов);

КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	НомерСчета = "";
	Наименование = "";
	//СЮП 27.02.2024 19.12.32 
	СчетПоУмолчанию = Ложь;
	
КонецПроцедуры

#КонецОбласти

#Иначе
	ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");
#КонецЕсли